<div class="container-rewards-resctrictions">
    <div fxLayout="row" class="title-container">
        <div class="title">
            <span>{{ 'STOREKEEPER-CRM.RESTRICTIONS_CENTER.TITLE' | translate }}</span>
        </div>
    </div>

    <div class="container-rewards" fxLayout="row wrap" fxLayout.lt-sm="column" fxLayoutAlign="flex-start">

        <div fxFlex="35">
            <mat-form-field appearance="outline">
                <mat-label>{{ 'STOREKEEPER-CRM.RESTRICTIONS_CENTER.SEARCH' | translate }}</mat-label>
                <input matInput id="level" type="text" (keyup)="applyFilter($event.target.value)">
                <mat-icon matSuffix class="material-icons">search</mat-icon>
            </mat-form-field>
        </div>

        <div fxFlex dir="rtl">
            <button mat-flat-button class="accept-button" (click)="rewardModal(null)">
                <mat-icon>add</mat-icon>{{ 'BUTTON.ADD' | translate }}
            </button>
        </div>
    </div>

    <div [hidden]="!rewardsData">
        <table mat-table [dataSource]="rewardsData" class="container-table" matSort>

            <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    {{ 'STOREKEEPER-CRM.RESTRICTIONS_CENTER.TABLE.ID' | translate | uppercase }}
                </th>
                <td mat-cell *matCellDef="let rewards"
                    [attr.data-th]="'STOREKEEPER-CRM.RESTRICTIONS_CENTER.TABLE.ID' | translate">
                    {{ rewards?.id }}
                </td>
            </ng-container>

            <ng-container matColumnDef="description">
                <th mat-header-cell *matHeaderCellDef>
                    {{ 'STOREKEEPER-CRM.RESTRICTIONS_CENTER.TABLE.NAME' | translate | uppercase }}
                </th>
                <td mat-cell *matCellDef="let rewards"
                    [attr.data-th]="'STOREKEEPER-CRM.RESTRICTIONS_CENTER.TABLE.NAME' | translate">
                    {{ rewards?.description }}
                </td>
            </ng-container>

            <ng-container matColumnDef="createdAt">
                <th mat-header-cell *matHeaderCellDef>
                    {{ 'STOREKEEPER-CRM.RESTRICTIONS_CENTER.TABLE.CREATED' | translate | uppercase }}
                </th>
                <td mat-cell *matCellDef="let rewards"
                    [attr.data-th]="'STOREKEEPER-CRM.RESTRICTIONS_CENTER.TABLE.CREATED' | translate">
                    {{ rewards?.created_at }}
                </td>
            </ng-container>

            <ng-container matColumnDef="updatedAt">
                <th mat-header-cell *matHeaderCellDef>
                    {{ 'STOREKEEPER-CRM.RESTRICTIONS_CENTER.TABLE.RANGE' | translate | uppercase }}
                </th>
                <td mat-cell *matCellDef="let rewards"
                    [attr.data-th]="'STOREKEEPER-CRM.RESTRICTIONS_CENTER.TABLE.RANGE' | translate">
                    {{ rewards?.updated_at }}
                </td>
            </ng-container>

            <ng-container matColumnDef="createdBy">
                <th mat-header-cell *matHeaderCellDef>
                    {{ 'STOREKEEPER-CRM.RESTRICTIONS_CENTER.TABLE.STATUS' | translate | uppercase }}
                </th>
                <td mat-cell *matCellDef="let rewards"
                    [attr.data-th]="'STOREKEEPER-CRM.RESTRICTIONS_CENTER.TABLE.STATUS' | translate">
                    {{ rewards?.created_by }}
                </td>
            </ng-container>

            <ng-container matColumnDef="deletedAt">
                <th mat-header-cell *matHeaderCellDef>
                    {{ 'STOREKEEPER-CRM.RESTRICTIONS_CENTER.TABLE.STATUS' | translate | uppercase }}
                </th>
                <td mat-cell *matCellDef="let rewards"
                    [attr.data-th]="'STOREKEEPER-CRM.RESTRICTIONS_CENTER.TABLE.STATUS' | translate">
                    {{ rewards?.deleted_at }}
                </td>
            </ng-container>

            <ng-container matColumnDef="edit">
                <th mat-header-cell *matHeaderCellDef>
                </th>
                <td mat-cell *matCellDef="let rewards">
                    <mat-icon class="container-icon material-icons icon-button" (click)="rewardModal(rewards)">
                        <img src="assets/images/storekeeper/icons-new-crud/editIcon.svg">
                    </mat-icon>
                </td>
            </ng-container>

            <ng-container matColumnDef="delete">
                <th mat-header-cell *matHeaderCellDef>
                </th>
                <td mat-cell *matCellDef="let rewards">
                    <mat-icon class="container-icon material-icons icon-button"
                        (click)="rewardDelete(rewards?.id)">
                        <img src="assets/images/storekeeper/icons-new-crud/deleteIcon.svg">
                    </mat-icon>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

        </table>

        <mat-paginator [length]="totalSize" [pageSize]="pageSize" showFirstLastButtons></mat-paginator>
    </div>

    <div fxLayout="column" fxLayoutAlign="center center" class="container-not-found" *ngIf="!rewardsData">
        <h1>{{ 'STOREKEEPER-CRM.RESTRICTIONS_CENTER.NOT_FOUND' | translate }}</h1>
    </div>
</div>